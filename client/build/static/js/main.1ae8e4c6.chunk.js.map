{"version":3,"sources":["media/MediaList.js","core/Home.js","user/Users.js","user/Signup.js","user/api-auth.js","auth/auth-helper.js","auth/Signin.js","user/DeleteUser.js","user/Profile.js","core/Menu.js","user/EditProfile.js","auth/PrivateRoute.js","media/NewMedia.js","media/EditMedia.js","media/DeleteMedia.js","media/MediaPlayer.js","media/Media.js","media/RelatedMedia.js","media/PlayMedia.js","MainRouter.js","App.js","serviceWorker.js","index.js","media/api-media.js","user/api-user.js"],"names":["MediaList","classes","this","props","className","root","GridList","gridList","cols","media","map","tile","i","GridListTile","key","to","_id","url","width","height","style","maxHeight","GridListTileBar","tileBar","title","tileTitle","subtitle","views","tileGenre","genre","Component","withStyles","theme","display","flexWrap","justifyContent","overflow","background","palette","paper","textAlign","padding","minHeight","spacing","unit","color","openTitle","backgroundColor","fontSize","marginBottom","float","marginRight","Home","state","componentDidMount","listPopular","then","data","error","console","log","setState","Card","card","Typography","type","component","margin","text","secondary","Users","users","list","Paper","elevation","List","dense","item","ListItem","button","ListItemAvatar","Avatar","ListItemText","primary","name","ListItemSecondaryAction","IconButton","mixins","gutters","Signup","password","email","open","handleChange","event","target","value","clickSubmit","user","undefined","create","CardContent","TextField","id","label","textField","onChange","Icon","CardActions","Button","raised","onClick","submit","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","variant","maxWidth","marginTop","paddingBottom","verticalAlign","marginLeft","signin","fetch","method","headers","Accept","credentials","body","JSON","stringify","response","json","catch","err","auth","isAuthenticated","window","sessionStorage","getItem","parse","authenticate","jwt","cb","setItem","signout","removeItem","document","cookie","Signin","redirectToReferrer","from","location","pathname","DeleteUser","redirect","clickButton","deleteAccount","remove","userId","t","token","handleRequestClose","aria-label","onClose","Profile","match","init","read","redirectToSignin","componentWillReceiveProps","params","Divider","Date","created","toDateString","protectedTitle","isActive","history","path","Menu","withRouter","AppBar","position","Toolbar","push","EditProfile","update","redirectToProfile","PrivateRoute","rest","render","NewMedia","video","description","mediaId","mediaData","FormData","files","set","accept","input","htmlFor","filename","multiline","rows","EditMedia","updatedMedia","DeleteMedia","deleteMedia","mediaTitle","MediaPlayer","playing","volume","muted","played","loaded","duration","ended","playbackRate","loop","fullscreen","videoError","screenfull","enabled","on","isFullscreen","setVolume","e","parseFloat","toggleMuted","playPause","onLoop","onProgress","progress","seeking","onClickFullscreen","request","findDOMNode","player","onEnded","handleAutoplay","onDuration","onSeekMouseDown","onSeekChange","onSeekMouseUp","seekTo","ref","format","seconds","date","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","slice","flex","config","attributes","srcUrl","onError","controls","LinearProgress","valueBuffer","colorPrimary","primaryColor","dashedColorPrimary","primaryDashed","dashed","min","max","step","onMouseDown","onMouseUp","rangeRoot","disabled","nextUrl","dateTime","Math","round","main","animation","top","zIndex","light","Media","mediaUrl","CardHeader","header","action","subheader","avatar","postedBy","dark","contrastText","RelatedMedia","details","content","subheading","whiteSpace","textOverflow","lineHeight","paddingLeft","PlayMedia","loadMedia","listRelated","relatedMedia","autoPlay","checked","updateMediaControls","playList","playMedia","length","shift","Grid","container","xs","sm","FormControlLabel","toggle","control","Switch","flexGrow","MainRouter","exact","createMuiTheme","red","brown","App","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","exports","Authorization","listByUser"],"mappings":"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","file":"static/js/main.1ae8e4c6.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport GridList from '@material-ui/core/GridList'\nimport {GridListTile, GridListTileBar } from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport ReactPlayer from 'react-player';\n\nconst styles = theme => ({  \n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    background: theme.palette.background.paper,\n    textAlign: 'left',\n    padding: '8px 16px'\n  },\n  gridList: {\n    width: '100%',\n    minHeight: 180,\n    padding: '0px 0 10px'\n  },\n  title: {\n    padding:`${theme.spacing.unit * 3}px ${theme.spacing.unit * 2.5}px ${theme.spacing.unit * 2}px`,\n    color: theme.palette.openTitle,\n    width: '100%'\n  },\n  tile: {\n    textAlign: 'center',\n    maxHeight: '100%'\n  },\n  tileBar: {\n    backgroundColor: 'rgba(0, 0, 0, 0.72)',\n    textAlign: 'left',\n    height: '55px'\n  },\n  tileTitle: {\n    fontSize:'1.1em',\n    marginBottom:'5px',\n    color:'rgb(193, 173, 144)',\n    display:\"block\"\n  },\n  tileGenre: {\n    float: 'right',\n    color:'rgb(193, 182, 164)',\n    marginRight: '8px'\n  }\n})\n\nclass MediaList extends Component {\n  render() {\n    const {classes} = this.props\n    return (\n      <div className={classes.root}>\n        <GridList className={classes.gridList} cols={3}>\n          {this.props.media.map((tile, i) => (\n            <GridListTile key={i} className={classes.tile}>\n              <Link to={\"/media/\"+tile._id}>\n                <ReactPlayer url={'/api/v1/media/video/'+tile._id} width='100%' height='inherit' style={{maxHeight: '100%'}}/>\n              </Link>\n              <GridListTileBar className={classes.tileBar}\n                title={<Link to={\"/media/\"+tile._id} className={classes.tileTitle}> {tile.title} </Link>}\n                subtitle={<span>\n                            <span>{tile.views} views</span>\n                            <span className={classes.tileGenre}>\n                              <em>{tile.genre}</em>\n                            </span>\n                          </span>}\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>)\n  }\n}\nMediaList.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(MediaList)\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport Typography from \"@material-ui/core/Typography\";\n// import seashellImg from \"./../assets/images/seashell.jpg\";\nimport MediaList from '../media/MediaList'\nimport {listPopular} from '../media/api-media.js'\n\nconst styles = theme => ({\n  card: {\n    margin: `${theme.spacing.unit * 5}px 30px`\n  },\n  title: {\n    padding:`${theme.spacing.unit * 3}px ${theme.spacing.unit * 2.5}px 0px`,\n    color: theme.palette.text.secondary,\n    fontSize: '1em'\n  },\n  media: {\n    minHeight: 330\n  }\n})\n\nclass Home extends Component {\n  state={\n    media: []\n  }\n  \n  componentDidMount = () => {\n    listPopular().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ media: data });\n      }\n    });\n  };\n\n  render() {\n    const {classes} = this.props\n    return (\n      <Card className={classes.card}>\n        <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n          Popular Videos\n        </Typography>\n          <MediaList media={this.state.media}/>\n      </Card>\n    )\n  }\n}\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Home);\n","import React, { Component } from \"react\";\n\nimport {withStyles} from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List';\nimport {ListItem, ListItemAvatar , ListItemSecondaryAction, ListItemText} from '@material-ui/core';\n\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport Person from '@material-ui/icons/Person'\nimport {Link} from 'react-router-dom'\nimport {list} from './api-user.js'\nimport PropTypes from 'prop-types'\n\n\n\n\nconst styles = theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing.unit,\n    margin: theme.spacing(5)\n  }),\n  title: {\n    margin: `${theme.spacing(4)}px 0 ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle\n  }\n})\n\nclass Users extends Component {\n  state = { users: [] };\n\n  componentDidMount = () => {\n    list().then(data => {\n      if (data.error) console.log(data.error);\n      else this.setState({ users: data });\n    });\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Paper className={classes.root} elevation={4}>\n        <Typography type=\"title\" className={classes.title}>\n          All Users\n        </Typography>\n        <List dense>\n          {this.state.users.map(function(item, i) {\n            return (\n              <Link to={\"/user/\" + item._id} key={i}>\n                <ListItem button=\"button\">\n                  <ListItemAvatar>\n                    <Avatar>\n                      <Person />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText primary={item.name} />\n                  <ListItemSecondaryAction>\n                    <IconButton>\n                      <ArrowForwardIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              </Link>\n            );\n          })}\n        </List>\n      </Paper>\n    );\n  }\n}\n\n\n\nUsers.propTypes = {\n  classes: PropTypes.object.isRequired\n}\nexport default withStyles(styles)(Users)\n","import React, {Component} from 'react'\nimport Card from '@material-ui/core/Card';\nimport {CardActions, CardContent} from '@material-ui/core';\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport {create} from './api-user.js'\nimport Dialog from '@material-ui/core/Dialog'\nimport {DialogActions, DialogContent, DialogContentText, DialogTitle} from  \"@material-ui/core\"\nimport {Link} from 'react-router-dom'\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  }\n})\n\n class Signup extends Component {\n\n    state = { name: \"\", password: \"\", email: \"\", open: false, error: \"\" };\n\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value });\n  };\n  clickSubmit = () => {\n    const user = {\n      name: this.state.name || undefined,\n      email: this.state.email || undefined,\n      password: this.state.password || undefined\n    };\n    create(user).then(data => {\n      if (data.error) this.setState({ error: data.error });\n      else this.setState({ error: \"\", open: true });\n    });\n  };\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            <Typography\n              type=\"headline\"\n              component=\"h2\"\n              className={classes.title}\n            >\n              Sign Up\n            </Typography>\n            <TextField\n              id=\"name\"\n              label=\"Name\"\n              className={classes.textField}\n              value={this.state.name}\n              onChange={this.handleChange(\"name\")}\n              margin=\"normal\"\n            />{\" \"}\n            <br />\n            <TextField\n              id=\"email\"\n              type=\"email\"\n              label=\"Email\"\n              className={classes.textField}\n              value={this.state.email}\n              onChange={this.handleChange(\"email\")}\n              margin=\"normal\"\n            />\n            <br />\n            <TextField\n              id=\"password\"\n              type=\"password\"\n              label=\"Password\"\n              className={classes.textField}\n              value={this.state.password}\n              onChange={this.handleChange(\"password\")}\n              margin=\"normal\"\n            />\n            <br />\n            {this.state.error && (\n              <Typography component=\"p\" color=\"error\">\n                <Icon color=\"error\" className={classes.error}>\n                  error\n                </Icon>\n                {this.state.error}\n              </Typography>\n            )}\n          </CardContent>\n          <CardActions>\n            <Button\n              color=\"primary\"\n              raised=\"raised\"\n              onClick={this.clickSubmit}\n              className={classes.submit}\n            >\n              Submit\n            </Button>\n          </CardActions>\n        </Card>\n        <Dialog open={this.state.open} disableBackdropClick={true}>\n          <DialogTitle>New Account</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              New account successfully created.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Link to=\"/signin\">\n              <Button color=\"primary\" autoFocus=\"autoFocus\" variant=\"raised\">\n                Sign In\n              </Button>\n            </Link>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nSignup.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Signup)","const signin = user => {\n  return fetch(\"/api/v1/auth/signin/\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"include\",\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nconst signout = () => {\n  return fetch(\"/auth/signout/\", {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport { signin, signout }","import { signout } from '../user/api-auth';\n\nconst auth = {\n  isAuthenticated() {\n    if (typeof window == \"undefined\")\n      return false\n\n    if (sessionStorage.getItem('jwt'))\n      return JSON.parse(sessionStorage.getItem('jwt'))\n    else\n      return false\n  },\n  authenticate(jwt, cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\n    cb()\n  },\n  signout(cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.removeItem('jwt')\n    cb()\n    //optional\n    signout().then((data) => {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\n    })\n  }\n}\n\nexport default auth\n","import React, {Component} from 'react'\nimport Card from '@material-ui/core/Card'\nimport  {CardActions, CardContent} from '@material-ui/core';\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport auth from './auth-helper';\nimport {Redirect} from 'react-router-dom'\nimport {signin} from '../user/api-auth';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  }\n})\n\nclass Signin extends Component {\n  state = {\n      email: '',\n      password: '',\n      error: '',\n      redirectToReferrer: false\n  }\n\n  clickSubmit = () => {\n    const user = {\n      email: this.state.email || undefined,\n      password: this.state.password || undefined\n    }\n\n    signin(user).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        auth.authenticate(data, () => {\n          this.setState({redirectToReferrer: true})\n        })\n      }\n    })\n  }\n\n  handleChange = name => event => {\n    this.setState({[name]: event.target.value})\n  }\n\n  render() {\n    const {classes} = this.props\n    const {from} = this.props.location.state || {\n      from: {\n        pathname: '/'\n      }\n    }\n    const {redirectToReferrer} = this.state\n    if (redirectToReferrer) {\n      return (<Redirect to={from}/>)\n    }\n\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n            Sign In\n          </Typography>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={this.state.email} onChange={this.handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={this.state.password} onChange={this.handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            this.state.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {this.state.error}\n            </Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nSignin.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Signin)\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Dialog from '@material-ui/core/Dialog'\nimport {DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core'\n\nimport auth from '../auth/auth-helper'\nimport {remove} from './api-user.js'\nimport {Redirect} from 'react-router-dom'\n\nclass DeleteUser extends Component {\n  state = {\n    redirect: false,\n    open: false\n  }\n  clickButton = () => {\n    this.setState({open: true})\n  }\n  deleteAccount = () => {\n    const jwt = auth.isAuthenticated()\n    remove({\n      userId: this.props.userId\n    }, {t: jwt.token}).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        auth.signout(() => console.log('deleted'))\n        this.setState({redirect: true})\n      }\n    })\n  }\n  handleRequestClose = () => {\n    this.setState({open: false})\n  }\n  render() {\n    const redirect = this.state.redirect\n    if (redirect) {\n      return <Redirect to='/'/>\n    }\n    return (<span>\n      <IconButton aria-label=\"Delete\" onClick={this.clickButton} color=\"secondary\">\n        <DeleteIcon/>\n      </IconButton>\n\n      <Dialog open={this.state.open} onClose={this.handleRequestClose}>\n        <DialogTitle>{\"Delete Account\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Confirm to delete your account.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleRequestClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.deleteAccount} color=\"secondary\" autoFocus=\"autoFocus\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </span>)\n  }\n}\nDeleteUser.propTypes = {\n  userId: PropTypes.string.isRequired\n}\nexport default DeleteUser\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport List from \"@material-ui/core/List\";\nimport {\n  ListItem,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  ListItemText\n} from \"@material-ui/core/\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\n// import Button from '@material-ui/core/Button'\nimport Typography from \"@material-ui/core/Typography\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport Person from \"@material-ui/icons/Person\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteUser from \"./DeleteUser\";\nimport auth from \"../auth/auth-helper\";\nimport { read } from \"./api-user.js\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nconst styles = theme => ({\n  root: theme.mixins.gutters({\n    maxWidth: 600,\n    margin: \"auto\",\n    padding: theme.spacing(3),\n    marginTop: theme.spacing(5)\n  }),\n  title: {\n    margin: `${theme.spacing(3)}px 0 ${theme.spacing(2)}px`,\n    color: theme.palette.protectedTitle\n  }\n});\nclass Profile extends Component {\n  constructor({ match }) {\n    super();\n    this.state = {\n      user: \"\",\n      redirectToSignin: false\n    };\n    this.match = match;\n  }\n  init = userId => {\n    const jwt = auth.isAuthenticated();\n    read(\n      {\n        userId: userId\n      },\n      { t: jwt.token }\n    ).then(data => {\n      if (data.error) {\n        this.setState({ redirectToSignin: true });\n      } else {\n        this.setState({ user: data });\n      }\n    });\n  };\n  componentWillReceiveProps = props => {\n    this.init(props.match.params.userId);\n  };\n  componentDidMount = () => {\n    this.init(this.match.params.userId);\n  };\n  render() {\n    const { classes } = this.props;\n    const redirectToSignin = this.state.redirectToSignin;\n    if (redirectToSignin) {\n      return <Redirect to=\"/signin\" />;\n    }\n    return (\n      <Paper className={classes.root} elevation={4}>\n        <Typography type=\"title\" className={classes.title}>\n          Profile\n        </Typography>\n        <List dense>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar>\n                <Person />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n              primary={this.state.user.name}\n              secondary={this.state.user.email}\n            />{\" \"}\n            {auth.isAuthenticated().user &&\n              auth.isAuthenticated().user._id === this.state.user._id && (\n                <ListItemSecondaryAction>\n                  <Link to={\"/user/edit/\" + this.state.user._id}>\n                    <IconButton aria-label=\"Edit\" color=\"primary\">\n                      <Edit />\n                    </IconButton>\n                  </Link>\n                  <DeleteUser userId={this.state.user._id} />\n                </ListItemSecondaryAction>\n              )}\n          </ListItem>\n          <Divider />\n          <ListItem>\n            <ListItemText\n              primary={\n                \"Joined: \" + new Date(this.state.user.created).toDateString()\n              }\n            />\n          </ListItem>\n        </List>\n      </Paper>\n    );\n  }\n}\nProfile.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Profile);\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddBoxIcon from '@material-ui/icons/AddBox'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport Button from \"@material-ui/core/Button\";\nimport auth from \"../auth/auth-helper\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nconst isActive = (history, path) => {\n  if (history.location.pathname === path)\n    return {color: '#f99085'}\n  else\n    return {color: '#efdcd5'}\n}\nconst Menu = withRouter(({ history }) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography type=\"title\" color=\"inherit\">\n        MERN Social\n      </Typography>\n      <Link to=\"/\">\n        <IconButton aria-label=\"Home\" style={isActive(history, \"/\")}>\n          <HomeIcon />\n        </IconButton>\n      </Link>\n      <Link to=\"/users\">\n        <Button style={isActive(history, \"/users\")}>Users</Button>\n      </Link>\n      {!auth.isAuthenticated() && (\n        <span>\n          <Link to=\"/signup\">\n            <Button style={isActive(history, \"/signup\")}>Sign up</Button>\n          </Link>\n          <Link to=\"/signin\">\n            <Button style={isActive(history, \"/signin\")}>Sign In</Button>\n          </Link>\n        </span>\n      )}\n      {auth.isAuthenticated() && (\n        <span>\n          <Link to=\"/media/new\">\n            <Button style={isActive(history, \"/media/new\")}>\n              <AddBoxIcon style={{ marginRight: \"8px\" }} /> Add Media\n            </Button>\n          </Link>\n          <Link to={\"/user/\" + auth.isAuthenticated().user._id}>\n            <Button\n              style={isActive(\n                history,\n                \"/user/\" + auth.isAuthenticated().user._id\n              )}\n            >\n              My Profile\n            </Button>\n          </Link>\n          <Button\n            color=\"inherit\"\n            onClick={() => {\n              auth.signout(() => history.push(\"/\"));\n            }}\n          >\n            Sign out\n          </Button>\n        </span>\n      )}\n    </Toolbar>\n  </AppBar>\n));\n\nexport default Menu;\n","import React, {Component} from 'react'\nimport Card from '@material-ui/core/Card'\nimport  {CardActions, CardContent} from '@material-ui/core'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport auth from '../auth/auth-helper';\nimport {read, update} from './api-user.js'\nimport {Redirect} from 'react-router-dom'\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  }\n})\n\nclass EditProfile extends Component {\n  constructor({match}) {\n    super()\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      redirectToProfile: false,\n      error: ''\n    }\n    this.match = match\n  }\n\n  componentDidMount = () => {\n    const jwt = auth.isAuthenticated()\n    read({\n      userId: this.match.params.userId\n    }, {t: jwt.token}).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({name: data.name, email: data.email})\n      }\n    })\n  }\n  clickSubmit = () => {\n    const jwt = auth.isAuthenticated()\n    const user = {\n      name: this.state.name || undefined,\n      email: this.state.email || undefined,\n      password: this.state.password || undefined\n    }\n    update({\n      userId: this.match.params.userId\n    }, {\n      t: jwt.token\n    }, user).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({'userId': data._id, 'redirectToProfile': true})\n      }\n    })\n  }\n  handleChange = name => event => {\n    this.setState({[name]: event.target.value})\n  }\n  render() {\n    const {classes} = this.props\n    if (this.state.redirectToProfile) {\n      return (<Redirect to={'/user/' + this.state.userId}/>)\n    }\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n            Edit Profile\n          </Typography>\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={this.state.name} onChange={this.handleChange('name')} margin=\"normal\"/><br/>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={this.state.email} onChange={this.handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={this.state.password} onChange={this.handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            this.state.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {this.state.error}\n            </Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nEditProfile.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(EditProfile)\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport auth from \"./auth-helper\";\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      auth.isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/signin\",\n            state: { from: props.location }\n          }}\n        />\n      )\n    }\n  />\n);\nexport default PrivateRoute;\n","import React, {Component} from 'react'\nimport auth from '../auth/auth-helper'\nimport Card from '@material-ui/core/Card'\nimport {CardActions, CardContent}  from '@material-ui/core';\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport {create} from './api-media.js'\nimport {Redirect} from 'react-router-dom'\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 500,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1em'\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n    display: 'none'\n  },\n  filename:{\n    marginLeft:'10px'\n  }\n})\n\nclass NewMedia extends Component {\n  state = {\n      title: '',\n      video: '',\n      description: '',\n      genre: '',\n      redirect: false,\n      error: '',\n      mediaId: ''\n  }\n  componentDidMount = () => {\n    this.mediaData = new FormData()\n  }\n\n  clickSubmit = () => {\n    const jwt = auth.isAuthenticated()\n    create({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, this.mediaData).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({redirect: true, mediaId: data._id})\n      }\n    })\n  }\n\n  handleChange = name => event => {\n    const value = name === 'video'\n      ? event.target.files[0]\n      : event.target.value\n    this.mediaData.set(name, value)\n    this.setState({ [name]: value })\n  }\n\n  render() {\n    const {classes} = this.props\n    if (this.state.redirect) {\n      return (<Redirect to={'/media/' + this.state.mediaId}/>)\n    }\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h1\" className={classes.title}>\n            New Video\n          </Typography>\n          <input accept=\"video/*\" onChange={this.handleChange('video')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\n          <label htmlFor=\"icon-button-file\">\n            <Button color=\"secondary\" variant=\"raised\" component=\"span\">\n              Upload\n              <PublishIcon/>\n            </Button>\n          </label> <span className={classes.filename}>{this.state.video ? this.state.video.name : ''}</span><br/>\n          <TextField id=\"title\" label=\"Title\" className={classes.textField} value={this.state.title} onChange={this.handleChange('title')} margin=\"normal\"/><br/>\n          <TextField\n            id=\"multiline-flexible\"\n            label=\"Description\"\n            multiline\n            rows=\"2\"\n            value={this.state.description}\n            onChange={this.handleChange('description')}\n            className={classes.textField}\n            margin=\"normal\"\n          /><br/>\n          <TextField id=\"genre\" label=\"Genre\" className={classes.textField} value={this.state.genre} onChange={this.handleChange('genre')} margin=\"normal\"/><br/>\n          <br/> {\n                  this.state.error && (<Typography component=\"p\" color=\"error\">\n                      <Icon color=\"error\" className={classes.error}>error</Icon>\n                      {this.state.error}\n                    </Typography>)\n                }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nNewMedia.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(NewMedia)\n","import React, {Component} from 'react'\nimport auth from '../auth/auth-helper'\nimport Card from '@material-ui/core/Card'\nimport {CardActions, CardContent} from '@material-ui/core/';\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\n// import PublishIcon from '@material-ui/icons/Publish'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport {read, update} from './api-media.js'\nimport {Redirect} from 'react-router-dom'\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 500,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1em'\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n  display: 'none'\n},\nfilename:{\n  marginLeft:'10px'\n}\n})\n\nclass EditMedia extends Component {\n  constructor({match}) {\n    super()\n    this.state = {\n      media: {title: '', description:'', genre:''},\n      redirect: false,\n      error: '',\n    }\n    this.match = match\n  }\n  componentDidMount = () => {\n    read({mediaId: this.match.params.mediaId}).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({media: data})\n      }\n    })\n  }\n\n  clickSubmit = () => {\n    const jwt = auth.isAuthenticated()\n    update({\n      mediaId: this.state.media._id\n    }, {\n      t: jwt.token\n    }, this.state.media).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({error: '', redirect: true, media: data})\n      }\n    })\n  }\n\n  handleChange = name => event => {\n    let updatedMedia = this.state.media\n    updatedMedia[name] = event.target.value\n    this.setState({media: updatedMedia})\n  }\n  render() {\n    const {classes} = this.props\n    if (this.state.redirect) {\n      return (<Redirect to={'/media/' + this.state.media._id}/>)\n    }\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h1\" className={classes.title}>\n            Edit Video Details\n          </Typography>\n          <TextField id=\"title\" label=\"Title\" className={classes.textField} value={this.state.media.title} onChange={this.handleChange('title')} margin=\"normal\"/><br/>\n          <TextField\n            id=\"multiline-flexible\"\n            label=\"Description\"\n            multiline\n            rows=\"2\"\n            value={this.state.media.description}\n            onChange={this.handleChange('description')}\n            className={classes.textField}\n            margin=\"normal\"\n          /><br/>\n          <TextField id=\"genre\" label=\"Genre\" className={classes.textField} value={this.state.media.genre} onChange={this.handleChange('genre')} margin=\"normal\"/><br/>\n          <br/> {\n                  this.state.error &&\n                  (<Typography component=\"p\" color=\"error\">\n                    <Icon color=\"error\" className={classes.error}>error</Icon>\n                    {this.state.error}\n                  </Typography>)\n                }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nEditMedia.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(EditMedia)\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Dialog from '@material-ui/core/Dialog'\nimport {DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core/'\nimport auth from '../auth/auth-helper'\nimport {remove} from './api-media.js'\nimport {Redirect} from 'react-router-dom'\n\nclass DeleteMedia extends Component {\n  state = {\n    redirect: false,\n    open: false\n  }\n  clickButton = () => {\n    this.setState({open: true})\n  }\n  deleteMedia = () => {\n    const jwt = auth.isAuthenticated()\n    remove({\n      mediaId: this.props.mediaId\n    }, {t: jwt.token}).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        this.setState({redirect: true})\n      }\n    })\n  }\n  handleRequestClose = () => {\n    this.setState({open: false})\n  }\n  render() {\n    const redirect = this.state.redirect\n    if (redirect) {\n      return <Redirect to='/'/>\n    }\n    return (<span>\n      <IconButton aria-label=\"Delete\" onClick={this.clickButton} color=\"secondary\">\n        <DeleteIcon/>\n      </IconButton>\n\n      <Dialog open={this.state.open} onClose={this.handleRequestClose}>\n        <DialogTitle>{\"Delete \"+this.props.mediaTitle}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Confirm to delete {this.props.mediaTitle} from your account.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleRequestClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={this.deleteMedia} variant=\"raised\" color=\"secondary\" autoFocus=\"autoFocus\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </span>)\n  }\n}\n\nDeleteMedia.propTypes = {\n  mediaId: PropTypes.string.isRequired,\n  mediaTitle: PropTypes.string.isRequired\n}\n\nexport default DeleteMedia\n","import React, {Component} from 'react'\nimport { findDOMNode } from 'react-dom'\nimport screenfull from 'screenfull'\nimport IconButton from '@material-ui/core/IconButton'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport ReactPlayer from 'react-player'\nimport { LinearProgress } from '@material-ui/core/'\n// import Input from '@material-ui/core/Input'\n\nconst styles = theme => ({\n  flex:{\n    display:'flex'\n  },\n  primaryDashed: {\n    background: 'none',\n    backgroundColor: theme.palette.secondary.main\n  },\n  primaryColor: {\n    backgroundColor: '#6969694f'\n  },\n  dashed: {\n    animation: 'none'\n  },\n  controls:{\n    position: 'relative',\n    backgroundColor: '#ababab52'\n  },\n  rangeRoot: {\n    position: 'absolute',\n    width: '100%',\n    top: '-7px',\n    zIndex: '3456',\n    '-webkit-appearance': 'none',\n    backgroundColor: 'rgba(0,0,0,0)'\n  },\n  videoError: {\n    width: '100%',\n    textAlign: 'center',\n    color: theme.palette.primary.light\n  }\n})\n\nclass MediaPlayer extends Component {\n  state = {\n        playing: true,\n        volume: 0.8,\n        muted: false,\n        played: 0,\n        loaded: 0,\n        duration: 0,\n        ended:false,\n        playbackRate: 1.0,\n        loop: false,\n        fullscreen: false,\n        videoError: false\n  }\n  componentDidMount = () => {\n    if (screenfull.enabled) {\n      screenfull.on('change', () => {\n        let fullscreen = screenfull.isFullscreen ? true : false\n        this.setState({fullscreen: fullscreen})\n      })\n    }\n  }\n  setVolume = e => {\n    this.setState({ volume: parseFloat(e.target.value) })\n  }\n  toggleMuted = () => {\n    this.setState({ muted: !this.state.muted })\n  }\n  playPause = () => {\n     this.setState({ playing: !this.state.playing })\n  }\n  onLoop = () => {\n       this.setState({ loop: !this.state.loop })\n  }\n  onProgress = progress => {\n    // We only want to update time slider if we are not currently seeking\n    if (!this.state.seeking) {\n      this.setState({played: progress.played, loaded: progress.loaded})\n    }\n  }\n  onClickFullscreen = () => {\n   screenfull.request(findDOMNode(this.player))\n  }\n  onEnded = () => {\n    if(this.state.loop){\n      this.setState({ playing: true})\n    } else{\n      this.props.handleAutoplay(()=>{this.setState({ ended: true, playing: false })})\n    }\n  }\n  onDuration = (duration) => {\n    this.setState({ duration })\n  }\n  onSeekMouseDown = e => {\n    this.setState({ seeking: true })\n  }\n  onSeekChange = e => {\n    this.setState({ played: parseFloat(e.target.value), ended: parseFloat(e.target.value) >= 1 })\n  }\n  onSeekMouseUp = e => {\n    this.setState({ seeking: false })\n    this.player.seekTo(parseFloat(e.target.value))\n  }\n  ref = player => {\n      this.player = player\n  }\n  format = (seconds) => {\n    const date = new Date(seconds * 1000)\n    const hh = date.getUTCHours()\n    let mm = date.getUTCMinutes()\n    const ss = ('0' + date.getUTCSeconds()).slice(-2)\n    if (hh) {\n      mm = ('0' + date.getUTCMinutes()).slice(-2)\n      return `${hh}:${mm}:${ss}`\n    }\n    return `${mm}:${ss}`\n  }\n  videoError = e => {\n    this.setState({videoError: true})\n  }\n  render() {\n    const {classes} = this.props\n    const { playing, ended, volume, muted, loop, played, loaded, duration, playbackRate, fullscreen, videoError } = this.state\n    return (<div>\n        <div className={classes.flex}>\n          {videoError && <p className={classes.videoError}>Video Error. Try again later.</p>}\n          <ReactPlayer\n            ref={this.ref}\n              width={fullscreen ? '100%':'inherit'}\n              height={fullscreen ? '100%':'inherit'}\n              style={fullscreen ? {position:'relative'} : {maxHeight: '500px'}}\n              config={{ attributes: { style: { height: '100%', width: '100%'} } }}\n              url={this.props.srcUrl}\n              playing={playing}\n              loop={loop}\n              playbackRate={playbackRate}\n              volume={volume}\n              muted={muted}\n              onEnded={this.onEnded}\n              onError={this.videoError}\n              onProgress={this.onProgress}\n              onDuration={this.onDuration}/>\n            <br/>\n        </div>\n        <div className={classes.controls}>\n          <LinearProgress color=\"primary\" variant=\"buffer\" value={played*100} valueBuffer={loaded*100} style={{width: '100%'}} classes={{\n                colorPrimary: classes.primaryColor,\n                dashedColorPrimary : classes.primaryDashed,\n                dashed: classes.dashed\n          }}/>\n          <input type=\"range\" min={0} max={1}\n                  value={played} step='any'\n                  onMouseDown={this.onSeekMouseDown}\n                  onChange={this.onSeekChange}\n                  onMouseUp={this.onSeekMouseUp}\n                  className={classes.rangeRoot}/>\n\n          <IconButton color=\"primary\" onClick={this.playPause}>\n            <Icon>{playing ? 'pause': (ended ? 'replay' : 'play_arrow')}</Icon>\n          </IconButton>\n          <IconButton disabled={!this.props.nextUrl} color=\"primary\">\n            <Link to={this.props.nextUrl} style={{color: 'inherit'}}>\n              <Icon>skip_next</Icon>\n            </Link>\n          </IconButton>\n          <IconButton color=\"primary\" onClick={this.toggleMuted}>\n            <Icon>{(volume > 0 && !muted && 'volume_up') || (muted && 'volume_off') || (volume===0 && 'volume_mute')}</Icon>\n          </IconButton>\n          <input type=\"range\" min={0} max={1} step='any' value={muted? 0 : volume} onChange={this.setVolume} style={{verticalAlign: 'middle'}}/>\n          <IconButton color={loop? 'primary' : 'default'} onClick={this.onLoop}>\n            <Icon>loop</Icon>\n          </IconButton>\n          <IconButton color=\"primary\" onClick={this.onClickFullscreen}>\n            <Icon>fullscreen</Icon>\n          </IconButton>\n          <span style={{float: 'right', padding: '10px', color: '#b83423'}}>\n            <time dateTime={`P${Math.round(duration * played)}S`}>\n              {this.format(duration * played)}\n            </time> / <time dateTime={`P${Math.round(duration)}S`}>\n                          {this.format(duration)}\n                      </time>\n          </span>\n        </div>\n      </div>\n    )\n  }\n}\n\nMediaPlayer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  srcUrl: PropTypes.string,\n  nextUrl: PropTypes.string,\n  handleAutoplay: PropTypes.func.isRequired\n}\n\nexport default withStyles(styles)(MediaPlayer)\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport { CardHeader } from \"@material-ui/core\";\nimport List from \"@material-ui/core/List\";\nimport {\n  ListItem,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  ListItemText\n} from \"@material-ui/core/\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport auth from \"../auth/auth-helper\";\nimport { Link } from \"react-router-dom\";\n// import ReactPlayer from \"react-player\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteMedia from \"./DeleteMedia\";\nimport MediaPlayer from './MediaPlayer'\n\nconst styles = theme => ({\n  card: {\n    padding: \"20px\"\n  },\n  header: {\n    padding: \"0px 16px 16px 12px\"\n  },\n  action: {\n    margin: \"24px 20px 0px 0px\",\n    display: \"inline-block\",\n    fontSize: \"1.15em\",\n    color: theme.palette.secondary.dark\n  },\n  avatar: {\n    color: theme.palette.primary.contrastText,\n    backgroundColor: theme.palette.primary.light\n  }\n});\n\nclass Media extends Component {\n  render() {\n    const mediaUrl = this.props.media._id\n      ? `/api/v1/media/video/${this.props.media._id}`\n      : null;\n    const nextUrl = this.props.nextUrl;\n    const { classes } = this.props;\n    return (\n      <Card className={classes.card}>\n        <CardHeader\n          className={classes.header}\n          title={this.props.media.title}\n          action={\n            <span className={classes.action}>\n              {this.props.media.views + \" views\"}\n            </span>\n          }\n          subheader={this.props.media.genre}\n        />\n        {/* <ReactPlayer\n          url={mediaUrl}\n          controls\n          width={\"inherit\"}\n          height={\"inherit\"}\n          style={{ maxHeight: \"500px\" }}\n          config={{ attributes: { style: { height: \"100%\", width: \"100%\" } } }}\n        /> */}\n        <MediaPlayer srcUrl={mediaUrl} nextUrl={nextUrl} handleAutoplay={this.props.handleAutoplay}/>\n        <List dense>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar className={classes.avatar}>\n                {this.props.media.postedBy.name &&\n                  this.props.media.postedBy.name[0]}\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n              primary={this.props.media.postedBy.name}\n              secondary={\n                \"Published on \" +\n                new Date(this.props.media.created).toDateString()\n              }\n            />\n            {auth.isAuthenticated().user &&\n              auth.isAuthenticated().user._id ===\n                this.props.media.postedBy._id && (\n                <ListItemSecondaryAction>\n                  <Link to={\"/media/edit/\" + this.props.media._id}>\n                    <IconButton aria-label=\"Edit\" color=\"secondary\">\n                      <Edit />\n                    </IconButton>\n                  </Link>\n                  <DeleteMedia\n                    mediaId={this.props.media._id}\n                    mediaTitle={this.props.media.title}\n                  />\n                </ListItemSecondaryAction>\n              )}\n          </ListItem>\n          <Divider />\n          <ListItem>\n            <ListItemText primary={this.props.media.description} />\n          </ListItem>\n        </List>\n      </Card>\n    );\n  }\n}\n\nMedia.propTypes = {\n  classes: PropTypes.object.isRequired,\n  media: PropTypes.object,\n  nextUrl: PropTypes.string,\n  handleAutoplay: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles)(Media);\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography';\nimport {Link} from 'react-router-dom';\nimport Divider from '@material-ui/core/Divider';\nimport Card  from '@material-ui/core/Card';\nimport { CardContent } from '@material-ui/core';\nimport ReactPlayer from 'react-player';\n\nconst styles = theme => ({\n  root: theme.mixins.gutters({\n    paddingBottom: 24,\n    backgroundColor: '#80808024'\n  }),\n  title: {\n    margin: `${theme.spacing.unit * 3}px ${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  card: {\n    width: '100%',\n    display: 'inline-flex'\n  },\n  details: {\n    display: 'inline-block',\n    width: \"100%\"\n  },\n  content: {\n    flex: '1 0 auto',\n    padding: '16px 8px 0px'\n  },\n  controls: {\n    marginTop: '8px'\n  },\n  date: {\n    color: 'rgba(0, 0, 0, 0.4)'\n  },\n  mediaTitle: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    width: '130px',\n    fontSize: '1em',\n    marginBottom: '5px'\n  },\n  subheading: {\n    color: 'rgba(88, 114, 128, 0.67)'\n  },\n  views: {\n    display: 'inline',\n    lineHeight: '3',\n    paddingLeft: '8px',\n    color: theme.palette.text.secondary\n  }\n})\nclass RelatedMedia extends Component {\n  render() {\n    const {classes} = this.props\n    return (\n      <Paper className={classes.root} elevation={4} style={{padding: '16px'}}>\n          <Typography type=\"title\" className={classes.title}>\n            Up Next\n          </Typography>\n          {this.props.media.map((item, i) => {\n              return <span key={i}><Card className={classes.card} >\n                <div style={{marginRight: \"5px\", backgroundColor: \"black\"}}>\n              <Link to={\"/media/\"+item._id}><ReactPlayer url={'/api/v1/media/video/'+item._id} width='160px' height='140px'/></Link>\n              </div>\n                      <div className={classes.details}>\n                        <CardContent className={classes.content}>\n                          <Link to={'/media/'+item._id}><Typography type=\"title\" component=\"h3\" className={classes.mediaTitle} color=\"primary\">{item.title}</Typography></Link>\n                          <Typography type=\"subheading\" className={classes.subheading}>\n                            {item.genre}\n                          </Typography>\n\n                          <Typography component=\"p\" className={classes.date}>\n                            {(new Date(item.created)).toDateString()}\n                          </Typography>\n\n                        </CardContent>\n                        <div className={classes.controls}>\n                        <Typography type=\"subheading\" component=\"h3\" className={classes.views} color=\"primary\"> {item.views} views</Typography>\n                        </div>\n                      </div>\n\n                    </Card>\n                    <Divider/>\n                    </span>\n            })\n          }\n      </Paper>\n    )\n  }\n}\n\nRelatedMedia.propTypes = {\n  classes: PropTypes.object.isRequired,\n  media: PropTypes.array.isRequired\n}\n\nexport default withStyles(styles)(RelatedMedia)\n","import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {withStyles} from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport {read, listRelated} from './api-media.js'\nimport Media from './Media'\nimport RelatedMedia from './RelatedMedia'\nimport { FormControlLabel } from '@material-ui/core/'\nimport Switch from '@material-ui/core/Switch'\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30,\n  },\n  toggle: {\n    float: 'right',\n    marginRight: '30px',\n    marginTop:' 10px'\n  }\n})\n\nclass PlayMedia extends Component {\n  constructor({match}) {\n    super()\n    this.state = {\n      media: {postedBy: {}},\n      relatedMedia: [],\n      autoPlay: false\n    }\n    this.match = match\n  }\n  loadMedia = (mediaId) => {\n    read({mediaId: mediaId}).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        this.setState({media: data})\n          listRelated({\n            mediaId: data._id}).then((data) => {\n            if (data.error) {\n              console.log(data.error)\n            } else {\n              this.setState({relatedMedia: data})\n            }\n          })\n      }\n    })\n  }\n  componentDidMount = () => {\n    this.loadMedia(this.match.params.mediaId)\n  }\n  componentWillReceiveProps = (props) => {\n    this.loadMedia(props.match.params.mediaId)\n  }\n  handleChange = (event) => {\n   this.setState({ autoPlay: event.target.checked })\n  }\n  handleAutoplay = (updateMediaControls) => {\n    let playList = this.state.relatedMedia\n    let playMedia = playList[0]\n    if(!this.state.autoPlay || playList.length === 0 )\n      return updateMediaControls()\n\n    if(playList.length > 1){\n      playList.shift()\n      this.setState({media: playMedia, relatedMedia:playList})\n    }else{\n      listRelated({\n          mediaId: playMedia._id}).then((data) => {\n            if (data.error) {\n             console.log(data.error)\n            } else {\n             this.setState({media: playMedia, relatedMedia: data})\n            }\n         })\n    }\n  }\n  render() {\n    //render SSR data\n    if (this.props.data && this.props.data[0] != null) {\n        this.setState({media: this.props.data[0]})    \n        this.setState({relatedMedia: []})  \n    }\n\n    const nextUrl = this.state.relatedMedia.length > 0\n          ? `/media/${this.state.relatedMedia[0]._id}` : ''\n    const {classes} = this.props\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={24}>\n          <Grid item xs={8} sm={8}>\n            <Media media={this.state.media} nextUrl={nextUrl} handleAutoplay={this.handleAutoplay}/>\n          </Grid>\n          {this.state.relatedMedia.length > 0\n            && (<Grid item xs={4} sm={4}>\n                    <FormControlLabel className = {classes.toggle}\n                        control={\n                          <Switch\n                            checked={this.state.autoPlay}\n                            onChange={this.handleChange}\n                            color=\"primary\"\n                          />\n                        }\n                        label={this.state.autoPlay ? 'Autoplay ON':'Autoplay OFF'}\n                    />\n                  <RelatedMedia media={this.state.relatedMedia}/>\n                </Grid>)\n           }\n        </Grid>\n      </div>)\n  }\n}\n\nPlayMedia.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(PlayMedia)\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./core/Home\";\nimport Users from './user/Users';\nimport Signup from './user/Signup';\nimport Signin from './auth/Signin';\nimport Profile from './user/Profile';\nimport Menu from './core/Menu';\nimport EditProfile from './user/EditProfile';\nimport PrivateRoute from './auth/PrivateRoute';\nimport NewMedia from './media/NewMedia'\nimport EditMedia from './media/EditMedia';\nimport PlayMedia from './media/PlayMedia';\n\nclass MainRouter extends Component {\n  constructor({data}) {\n    super()\n      this.data = data\n  }\n  render() {\n    return (\n      <div>\n        <Menu />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/users\" component={Users}/>\n          <Route path=\"/signup\" component={Signup}/>\n          <Route path=\"/signin\" component={Signin}/>\n          <PrivateRoute path=\"/user/edit/:userId\" component={EditProfile}/>\n          <PrivateRoute path=\"/media/new\" component={NewMedia}/>\n          <PrivateRoute path=\"/media/edit/:mediaId\" component={EditMedia}/>\n          <Route path=\"/user/:userId\" component={Profile}/>\n          <Route path=\"/media/:mediaId\" render={(props) => (\n            <PlayMedia {...props} data={this.data} />  )} />\n          <Route path=\"/media/:mediaId\" component={PlayMedia}/>  \n        </Switch>\n      </div>\n    );\n  }\n}\nexport default MainRouter;\n","import React from \"react\";\nimport \"./App.css\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { red, brown } from \"@material-ui/core/colors\";\nimport MainRouter from \"./MainRouter\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <MuiThemeProvider theme={theme}>\n        <MainRouter />\n      </MuiThemeProvider>\n    </BrowserRouter>\n  );\n}\n\n// Create a theme instance.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#f05545\",\n      main: \"#b71c1c\",\n      dark: \"#7f0000\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#efdcd5\",\n      main: \"#d7ccc8\",\n      dark: \"#8c7b75\",\n      contrastText: \"#424242\"\n    },\n    openTitle: red[\"500\"],\n    protectedTitle: brown[\"300\"],\n    type: \"light\"\n  }\n});\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","exports.create = (params, credentials, media) => {\n  return fetch(\"/api/v1/media/new/\" + params.userId, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    },\n    body: media\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexports.listPopular = params => {\n  return fetch(\"/api/v1/media/popular\", {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.listByUser = params => {\n  return fetch(\"/api/v1/media/by/\" + params.userId, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.read = params => {\n  return fetch(\"/api/v1/media/\" + params.mediaId, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.update = (params, credentials, media) => {\n  return fetch(\"/api/v1/media/\" + params.mediaId, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    },\n    body: JSON.stringify(media)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexports.remove = (params, credentials) => {\n  return fetch(\"/api/v1/media/\" + params.mediaId, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexports.listRelated = (params) => {\n  return fetch('/api/v1/media/related/'+ params.mediaId, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  }).then(response => {\n    return response.json()\n  }).catch((err) => console.log(err))\n}\n","exports.create = user => {\n  return fetch(\"/api/v1/users/\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.list = () => {\n  return fetch(\"/api/v1/users/\", {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.read = (params, credentials) => {\n  return fetch(\"/api/v1/users/\" + params.userId, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexports.update = (params, credentials, user) => {\n  return fetch(\"/api/v1/users/\" + params.userId, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexports.remove = (params, credentials) => {\n  return fetch(\"/api/v1/users/\" + params.userId, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + credentials.t\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\n"],"sourceRoot":""}